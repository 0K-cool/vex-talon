<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>0K Dashboard - SaaS Template</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&family=Space+Mono:wght@400;700&family=Share+Tech+Mono&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <style>
    /* ========== THEME: Default (0K) ========== */
    :root, [data-theme="default"] {
      /* Primary colors set by data-accent attribute */
      --zerok-primary: #c2703c;       /* Fallback */
      --zerok-primary-hover: #d4844a;
      --zerok-accent: #d4844a;
      --zerok-sidebar-active: rgba(194, 112, 60, 0.15);
      --zerok-bg: #2a2a2a;            /* Lighter charcoal to match 0din */
      --zerok-bg-alt: #2d2d2d;
      --zerok-sidebar: #2a2a2a;
      --zerok-content-bg: #121212;    /* Dark backdrop behind widgets */
      --zerok-card: #2a2a2a;
      --zerok-card-border: none;      /* No border on default theme */
      --zerok-card-hover: #222222;
      --zerok-sidebar-hover: #222222;
      --zerok-sidebar-active: rgba(194, 112, 60, 0.15);
      --zerok-text: #ffffff;
      --zerok-text-muted: #a0a0a0;
      --zerok-text-dim: #666666;
      --zerok-critical: #ef4444;
      --zerok-high: #f97316;
      --zerok-medium: #eab308;
      --zerok-low: #22c55e;
      --zerok-info: #3b82f6;
      --zerok-border: #3a3a3a;
      --zerok-border-hover: #4a4a4a;
      --zerok-font-sans: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      --zerok-font-mono: 'JetBrains Mono', monospace;
      --zerok-show-topbar: flex;
      --zerok-content-padding: 6px;
    }

    /* ========== THEME: Minimal ========== */
    [data-theme="minimal"] {
      /* Layout-only overrides - accent colors come from data-accent */
      --zerok-content-bg: #2a2a2a;    /* Same as sidebar - no dark backdrop */
      --zerok-card: #151515;          /* Darker widgets to match 0din */
      --zerok-card-border: 1px solid #333333;  /* Subtle border */
      --zerok-card-hover: #1a1a1a;
      --zerok-sidebar-hover: #333333; /* Lighter hover to match 0din */
      --zerok-sidebar-active: #383838; /* Solid lighter gray for selection */
      --zerok-show-topbar: none;      /* Hide top bar */
      --zerok-content-padding: 16px;  /* More padding without top bar */
    }

    /* ========== ACCENT COLORS ========== */
    [data-accent="orange"] {
      --zerok-primary: #c2703c;
      --zerok-primary-hover: #d4844a;
      --zerok-accent: #d4844a;
      --zerok-sidebar-active: rgba(194, 112, 60, 0.15);
    }

    [data-accent="red"] {
      --zerok-primary: #dc2626;
      --zerok-primary-hover: #ef4444;
      --zerok-accent: #ef4444;
      --zerok-sidebar-active: rgba(220, 38, 38, 0.15);
    }

    [data-accent="blue"] {
      --zerok-primary: #3b82f6;
      --zerok-primary-hover: #60a5fa;
      --zerok-accent: #60a5fa;
      --zerok-sidebar-active: rgba(59, 130, 246, 0.15);
    }

    [data-accent="green"] {
      --zerok-primary: #22c55e;
      --zerok-primary-hover: #4ade80;
      --zerok-accent: #4ade80;
      --zerok-sidebar-active: rgba(34, 197, 94, 0.15);
    }

    [data-accent="purple"] {
      --zerok-primary: #8b5cf6;
      --zerok-primary-hover: #a78bfa;
      --zerok-accent: #a78bfa;
      --zerok-sidebar-active: rgba(139, 92, 246, 0.15);
    }

    /* Minimal theme sidebar overrides (higher specificity to beat accent colors) */
    [data-theme="minimal"][data-accent] {
      --zerok-sidebar-active: #383838;
      --zerok-sidebar-hover: #333333;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: var(--zerok-font-sans);
      background: var(--zerok-bg);
      color: var(--zerok-text);
      min-height: 100vh;
    }

    /* Upside-down L Layout: Sidebar full height, content beside it */
    .dashboard {
      display: flex;
      min-height: 100vh;
    }

    /* Sidebar - Full height, collapsible */
    .sidebar {
      width: 220px;
      background: var(--zerok-sidebar);
      display: flex;
      flex-direction: column;
      transition: width 0.2s ease;
      position: relative;
      z-index: 10;
    }

    .sidebar.collapsed {
      width: 64px;
    }

    .sidebar-header {
      padding: 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      /* No border - clean header */
    }

    .sidebar-brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .sidebar-title {
      font-size: 18px;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .brand-0k {
      color: var(--zerok-text);
      font-family: var(--zerok-font-mono);
      font-weight: 600;
    }

    .slashed-zero {
      position: relative;
      display: inline-block;
    }

    .slashed-zero::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 120%;
      height: 2px;
      background: var(--zerok-text);
      transform: translate(-50%, -50%) rotate(-45deg);
    }

    .brand-name {
      color: var(--zerok-primary);
      font-family: var(--zerok-font-sans);
      font-weight: 600;
    }

    .sidebar.collapsed .sidebar-title .brand-name,
    .sidebar.collapsed .nav-label,
    .sidebar.collapsed .nav-badge,
    .sidebar.collapsed .sidebar-footer-text {
      display: none;
    }

    .collapse-btn {
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      border-radius: 4px;
      background: transparent;
      color: var(--zerok-text-muted);
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .collapse-btn:hover {
      background: var(--zerok-sidebar-hover);
      color: var(--zerok-text);
    }

    .sidebar.collapsed .collapse-btn {
      transform: rotate(180deg);
    }

    .sidebar-nav {
      flex: 1;
      padding: 12px 8px;
      overflow-y: auto;
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 10px 12px;
      margin-bottom: 2px;
      border: none;
      border-radius: 6px;
      background: transparent;
      color: var(--zerok-text-muted);
      cursor: pointer;
      font-size: 14px;
      width: 100%;
      text-align: left;
      transition: all 0.15s ease;
    }

    .sidebar.collapsed .nav-item {
      justify-content: center;
      padding: 12px;
    }

    .nav-item:hover {
      background: var(--zerok-sidebar-hover);
      color: var(--zerok-text);
    }

    .nav-item.active {
      background: var(--zerok-sidebar-active);
      color: var(--zerok-text);
    }

    .nav-icon {
      width: 18px;
      height: 18px;
      flex-shrink: 0;
    }

    .nav-badge {
      margin-left: auto;
      background: var(--zerok-critical);
      color: white;
      font-size: 10px;
      font-weight: 600;
      padding: 2px 6px;
      border-radius: 10px;
    }

    /* Sidebar Sections (Tools, Resources) */
    .sidebar-section {
      position: relative;
    }

    .sidebar-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 12px;
      right: 12px;
      height: 1px;
      background: var(--zerok-border);
    }

    .sidebar-section-header {
      padding: 10px 12px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: pointer;
      transition: background 0.15s ease;
    }

    .sidebar-section-header:hover {
      background: var(--zerok-sidebar-hover);
    }

    .sidebar-section-label {
      font-size: 11px;
      font-weight: 500;
      color: var(--zerok-text-dim);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .sidebar.collapsed .sidebar-section-label {
      display: none;
    }

    .section-collapse-btn {
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      border-radius: 4px;
      background: transparent;
      color: var(--zerok-text-dim);
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .section-collapse-btn:hover {
      color: var(--zerok-text-muted);
    }

    .section-collapse-btn.collapsed {
      transform: rotate(-90deg);
    }

    .sidebar-section-items {
      padding: 0 12px 8px;
      overflow: hidden;
      transition: all 0.2s ease;
    }

    .sidebar-section-items.collapsed {
      height: 0;
      padding: 0 12px;
    }

    .sidebar-section-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 12px;
      border: none;
      border-radius: 6px;
      background: transparent;
      color: var(--zerok-text-dim);
      cursor: pointer;
      font-size: 13px;
      width: 100%;
      text-align: left;
      transition: all 0.15s ease;
    }

    .sidebar-section-item:hover {
      background: var(--zerok-sidebar-hover);
      color: var(--zerok-text-muted);
    }

    .sidebar.collapsed .sidebar-section-item {
      justify-content: center;
      padding: 10px;
    }

    .sidebar.collapsed .sidebar-section-text,
    .sidebar.collapsed .section-badge {
      display: none;
    }

    .section-badge {
      margin-left: auto;
      background: var(--zerok-critical);
      color: white;
      font-size: 10px;
      font-weight: 600;
      padding: 2px 6px;
      border-radius: 10px;
    }

    /* Main Content Area - fills remaining space */
    .main {
      flex: 1;
      display: flex;
      flex-direction: column;
      min-width: 0;
      background: var(--zerok-content-bg);  /* Dark backdrop behind widgets */
    }

    /* Content Header - same charcoal as sidebar (upside-down L) */
    .content-header {
      padding: 6px 24px;
      display: var(--zerok-show-topbar);  /* Controlled by theme */
      align-items: center;
      justify-content: space-between;
      background: var(--zerok-sidebar);
    }

    .content-title-section {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .content-title {
      font-size: 16px;
      font-weight: 600;
    }

    .content-subtitle {
      font-size: 11px;
      color: var(--zerok-text-muted);
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .icon-btn {
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      border-radius: 6px;
      background: var(--zerok-card);
      color: var(--zerok-text-muted);
      cursor: pointer;
      position: relative;
      transition: all 0.15s ease;
    }

    .icon-btn:hover {
      background: var(--zerok-card-hover);
      color: var(--zerok-text);
    }

    .icon-btn .badge {
      position: absolute;
      top: 4px;
      right: 4px;
      width: 14px;
      height: 14px;
      background: var(--zerok-critical);
      color: white;
      font-size: 9px;
      font-weight: 600;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Content */
    .content {
      flex: 1;
      padding: var(--zerok-content-padding);
      overflow-y: auto;
    }

    /* Stat Grid */
    .stat-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 6px;
      margin-bottom: 6px;
    }

    .stat-card {
      background: var(--zerok-card);
      border: var(--zerok-card-border);
      border-radius: 0;
      padding: 14px;
    }

    .stat-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 12px;
    }

    .stat-label {
      font-size: 13px;
      color: var(--zerok-text-muted);
      font-weight: 500;
    }

    .stat-value-row {
      display: flex;
      align-items: baseline;
      gap: 8px;
    }

    .stat-value {
      font-size: 28px;
      font-weight: 700;
    }

    .stat-change {
      font-size: 12px;
      color: var(--zerok-text-dim);
    }

    .stat-change.positive { color: var(--zerok-low); }
    .stat-change.negative { color: var(--zerok-critical); }

    .stat-sparkline {
      width: 60px;
      height: 24px;
    }

    /* ==========================================================================
       WIDGET LAYOUTS - Spacing Convention
       ==========================================================================
       All widget container rows MUST use:
       - gap: 6px (between widgets horizontally)
       - margin-bottom: 6px (between rows vertically)
       This ensures consistent spacing throughout the dashboard.
       ========================================================================== */

    /* Widget Grid - 3 columns */
    .widget-grid {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 6px;
      margin-bottom: 6px;
    }

    .widget {
      background: var(--zerok-card);
      border: var(--zerok-card-border);
      border-radius: 0;
      overflow: hidden;
    }

    .widget-header {
      padding: 10px 14px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: relative;
    }

    .widget-header::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 14px;
      right: 14px;
      height: 1px;
      background: var(--zerok-border);
    }

    .widget-title {
      font-size: 13px;
      font-weight: 600;
    }

    .widget-action {
      padding: 4px 12px;
      font-size: 11px;
      font-weight: 500;
      border: 1px solid var(--zerok-primary);
      border-radius: 4px;
      background: transparent;
      color: var(--zerok-primary);
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .widget-action:hover {
      background: var(--zerok-primary);
      color: white;
    }

    .widget-body {
      padding: 12px;
    }

    /* Layer Grid */
    .layer-grid {
      display: grid;
      grid-template-columns: repeat(10, 1fr);
      gap: 6px;
    }

    .layer-cell {
      aspect-ratio: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      border: 1px solid color-mix(in srgb, var(--zerok-primary) 25%, transparent);
      border-radius: 0;
      background: color-mix(in srgb, var(--zerok-primary) 8%, transparent);
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .layer-cell:hover {
      transform: scale(1.08);
      border-color: var(--zerok-primary);
      background: color-mix(in srgb, var(--zerok-primary) 15%, transparent);
    }

    .layer-cell.disabled {
      border-color: rgba(102, 102, 102, 0.25);
      background: rgba(102, 102, 102, 0.08);
    }

    .layer-id {
      font-size: 10px;
      font-weight: 600;
      color: var(--zerok-primary);
    }

    .layer-cell.disabled .layer-id { color: var(--zerok-text-dim); }

    .layer-blocks {
      font-size: 8px;
      color: var(--zerok-critical);
      margin-top: 1px;
    }

    /* Event List */
    .event-row {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 0;
      cursor: pointer;
      transition: background 0.15s ease;
      position: relative;
    }

    .event-row::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 8px;
      right: 8px;
      height: 1px;
      background: var(--zerok-border);
    }

    .event-row:last-child::after { display: none; }

    .event-row:hover {
      background: rgba(255,255,255,0.02);
      margin: 0 -16px;
      padding-left: 16px;
      padding-right: 16px;
    }

    .event-icon { font-size: 12px; }

    .severity-badge {
      padding: 2px 6px;
      font-size: 9px;
      font-weight: 600;
      text-transform: uppercase;
      border-radius: 3px;
      min-width: 50px;
      text-align: center;
    }

    .severity-badge.critical { background: rgba(239, 68, 68, 0.2); color: var(--zerok-critical); }
    .severity-badge.high { background: rgba(249, 115, 22, 0.2); color: var(--zerok-high); }
    .severity-badge.medium { background: rgba(234, 179, 8, 0.2); color: var(--zerok-medium); }
    .severity-badge.low { background: rgba(34, 197, 94, 0.2); color: var(--zerok-low); }

    .event-layer {
      font-size: 11px;
      font-weight: 600;
      color: var(--zerok-primary);
      width: 28px;
    }

    .event-desc {
      flex: 1;
      font-size: 12px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .event-time {
      font-size: 10px;
      color: var(--zerok-text-dim);
      font-family: var(--zerok-font-mono);
    }

    /* Two column layout - follows spacing convention (see WIDGET LAYOUTS above) */
    .two-columns {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 6px;
      margin-bottom: 6px;
    }

    /* Bar chart mock */
    .bar-chart {
      display: flex;
      align-items: flex-end;
      gap: 8px;
      height: 120px;
      padding-top: 10px;
    }

    .bar-item {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
    }

    .bar {
      width: 100%;
      border-radius: 4px 4px 0 0;
      transition: all 0.3s ease;
    }

    .bar:hover { opacity: 0.8; }

    .bar-label {
      font-size: 10px;
      color: var(--zerok-text-dim);
    }

    .bar-value {
      font-size: 10px;
      font-weight: 600;
      color: var(--zerok-text-muted);
    }

    /* Settings Panel */
    .nav-section {
      position: relative;
    }

    .nav-chevron {
      margin-left: auto;
      transition: transform 0.2s ease;
      color: var(--zerok-text-dim);
    }

    .nav-chevron.expanded {
      transform: rotate(180deg);
    }

    .sidebar.collapsed .nav-chevron {
      display: none;
    }

    .settings-panel {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.2s ease;
      padding: 0 8px;
    }

    .settings-panel.expanded {
      max-height: 200px;
    }

    .settings-group {
      padding: 10px 12px;
      margin: 4px 0;
      background: var(--zerok-card);
      border-radius: 6px;
    }

    .settings-label {
      font-size: 10px;
      font-weight: 500;
      color: var(--zerok-text-dim);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 8px;
      display: block;
    }

    .theme-options {
      display: flex;
      gap: 6px;
    }

    .theme-option {
      flex: 1;
      padding: 6px 8px;
      border: 1px solid var(--zerok-border);
      border-radius: 4px;
      background: transparent;
      color: var(--zerok-text-muted);
      font-size: 11px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s ease;
      text-align: center;
    }

    .theme-option:hover {
      border-color: var(--zerok-border-hover);
      color: var(--zerok-text);
    }

    .theme-option.active {
      border-color: var(--zerok-primary);
      background: var(--zerok-sidebar-active);
      color: var(--zerok-primary);
    }

    .color-options {
      display: flex;
      gap: 8px;
    }

    .color-option {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      border: 2px solid transparent;
      background: var(--swatch);
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .color-option:hover {
      transform: scale(1.1);
    }

    .color-option.active {
      border-color: var(--zerok-text);
      box-shadow: 0 0 0 2px var(--zerok-bg);
    }

    .sidebar.collapsed .settings-panel {
      display: none;
    }

    /* User Profile - at bottom of sidebar */
    .sidebar-user {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 16px;
      cursor: pointer;
      transition: background 0.15s ease;
    }

    .sidebar-user:hover {
      background: var(--zerok-sidebar-hover);
    }

    .user-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: #141414;  /* Fixed dark circle - visible in both themes */
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--zerok-text-muted);
      flex-shrink: 0;
    }

    .user-info {
      flex: 1;
      display: flex;
      flex-direction: column;
      min-width: 0;
    }

    .user-name {
      font-size: 13px;
      font-weight: 500;
      color: var(--zerok-text);
    }

    .user-email {
      font-size: 11px;
      color: var(--zerok-text-dim);
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .sidebar.collapsed .user-info {
      display: none;
    }

    .sidebar.collapsed .sidebar-user {
      justify-content: center;
      padding: 12px 8px;
    }
  </style>
</head>
<body>
  <div class="dashboard">
    <!-- Sidebar - Full height, collapsible -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-brand">
          <span class="sidebar-title">
            <span class="brand-0k"><span class="slashed-zero">0</span>K</span>
            <span class="brand-name">Talon</span>
          </span>
        </div>
        <button class="collapse-btn" onclick="toggleSidebar()">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M10 4L6 8l4 4"/>
          </svg>
        </button>
      </div>

      <nav class="sidebar-nav">
        <button class="nav-item active">
          <svg class="nav-icon" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5">
            <rect x="2" y="2" width="5" height="5" rx="1"/>
            <rect x="11" y="2" width="5" height="5" rx="1"/>
            <rect x="2" y="11" width="5" height="5" rx="1"/>
            <rect x="11" y="11" width="5" height="5" rx="1"/>
          </svg>
          <span class="nav-label">Dashboard</span>
        </button>
        <button class="nav-item">
          <svg class="nav-icon" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5">
            <path d="M2 4h14M2 9h10M2 14h6"/>
          </svg>
          <span class="nav-label">Events</span>
          <span class="nav-badge">12</span>
        </button>
        <button class="nav-item">
          <svg class="nav-icon" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5">
            <rect x="2" y="3" width="14" height="4" rx="1"/>
            <rect x="2" y="11" width="14" height="4" rx="1"/>
          </svg>
          <span class="nav-label">Layers</span>
        </button>
        <button class="nav-item">
          <svg class="nav-icon" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5">
            <circle cx="9" cy="9" r="6"/>
            <path d="M9 5v4l2.5 2.5"/>
          </svg>
          <span class="nav-label">Sessions</span>
        </button>
        <button class="nav-item">
          <svg class="nav-icon" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5">
            <path d="M3 6h12M3 12h12M6 3v12M12 3v12"/>
          </svg>
          <span class="nav-label">Reports</span>
        </button>
        <div class="nav-section">
          <button class="nav-item" onclick="toggleSettings()">
            <svg class="nav-icon" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5">
              <circle cx="9" cy="9" r="2.5"/>
              <path d="M9 2v2M9 14v2M2 9h2M14 9h2M4 4l1.5 1.5M12.5 12.5L14 14M4 14l1.5-1.5M12.5 5.5L14 4"/>
            </svg>
            <span class="nav-label">Settings</span>
            <svg class="nav-chevron" id="settingsChevron" width="12" height="12" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M4 6l4 4 4-4"/>
            </svg>
          </button>
          <div class="settings-panel" id="settingsPanel">
            <div class="settings-group">
              <span class="settings-label">Theme</span>
              <div class="theme-options">
                <button class="theme-option active" data-theme="default" onclick="setTheme('default')">Default</button>
                <button class="theme-option" data-theme="minimal" onclick="setTheme('minimal')">Minimal</button>
              </div>
            </div>
            <div class="settings-group">
              <span class="settings-label">Accent</span>
              <div class="color-options">
                <button class="color-option active" data-color="orange" onclick="setAccent('orange')" style="--swatch: #c2703c;" title="0K Orange"></button>
                <button class="color-option" data-color="red" onclick="setAccent('red')" style="--swatch: #dc2626;" title="ATHENA Red"></button>
                <button class="color-option" data-color="blue" onclick="setAccent('blue')" style="--swatch: #3b82f6;" title="DetectionIQ Blue"></button>
                <button class="color-option" data-color="green" onclick="setAccent('green')" style="--swatch: #22c55e;" title="Green"></button>
                <button class="color-option" data-color="purple" onclick="setAccent('purple')" style="--swatch: #8b5cf6;" title="Purple"></button>
              </div>
            </div>
          </div>
        </div>
      </nav>

      <!-- Tools Section -->
      <div class="sidebar-section">
        <div class="sidebar-section-header" onclick="toggleSection('tools')">
          <span class="sidebar-section-label">Tools</span>
          <button class="section-collapse-btn" id="toolsCollapseBtn">
            <svg width="14" height="14" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M4 6l4 4 4-4"/>
            </svg>
          </button>
        </div>
        <div class="sidebar-section-items" id="toolsItems">
          <button class="sidebar-section-item">
            <svg class="nav-icon" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5">
              <circle cx="8" cy="8" r="5"/>
              <path d="M12 12l4 4"/>
            </svg>
            <span class="sidebar-section-text">Search</span>
          </button>
          <button class="sidebar-section-item">
            <svg class="nav-icon" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M9 2a5 5 0 015 5v2.5l1.5 1.5H2.5L4 9.5V7a5 5 0 015-5zM7.5 14a1.5 1.5 0 003 0"/>
            </svg>
            <span class="sidebar-section-text">Notifications</span>
            <span class="section-badge">3</span>
          </button>
        </div>
      </div>

      <!-- Resources Section -->
      <div class="sidebar-section">
        <div class="sidebar-section-header" onclick="toggleSection('resources')">
          <span class="sidebar-section-label">Resources</span>
          <button class="section-collapse-btn" id="resourcesCollapseBtn">
            <svg width="14" height="14" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M4 6l4 4 4-4"/>
            </svg>
          </button>
        </div>
        <div class="sidebar-section-items" id="resourcesItems">
          <button class="sidebar-section-item">
            <svg class="nav-icon" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5">
              <circle cx="9" cy="9" r="7"/>
              <path d="M9 6v3M9 12h.01"/>
            </svg>
            <span class="sidebar-section-text">Support</span>
          </button>
          <button class="sidebar-section-item">
            <svg class="nav-icon" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M3 3v12h12"/>
              <path d="M7 10l2-3 2 2 3-4"/>
            </svg>
            <span class="sidebar-section-text">Changelog</span>
          </button>
        </div>
      </div>

      <!-- User Profile (at bottom of sidebar) -->
      <div class="sidebar-user">
        <div class="user-avatar">
          <svg width="20" height="20" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5">
            <circle cx="9" cy="5" r="3"/>
            <path d="M3 16c0-3 3-5 6-5s6 2 6 5"/>
          </svg>
        </div>
        <div class="user-info">
          <span class="user-name">Admin</span>
          <span class="user-email">admin@0k.cool</span>
        </div>
      </div>
    </aside>

    <!-- Main Content Area -->
    <div class="main">
      <!-- Content Header -->
      <div class="content-header">
        <div class="content-title-section">
          <h1 class="content-title">Security Dashboard</h1>
          <p class="content-subtitle">20-Layer Defense-in-Depth ‚Ä¢ Last updated: 2 min ago</p>
        </div>
        <div class="header-actions">
          <button class="icon-btn">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5">
              <circle cx="8" cy="8" r="5"/>
              <path d="M12 12l4 4"/>
            </svg>
          </button>
          <button class="icon-btn">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M9 2a5 5 0 015 5v2.5l1.5 1.5H2.5L4 9.5V7a5 5 0 015-5zM7.5 14a1.5 1.5 0 003 0"/>
            </svg>
            <span class="badge">3</span>
          </button>
          <button class="icon-btn">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5">
              <circle cx="9" cy="5" r="3"/>
              <path d="M3 16c0-3 3-5 6-5s6 2 6 5"/>
            </svg>
          </button>
        </div>
      </div>

      <!-- Dashboard Content -->
      <main class="content">
        <!-- Stats Row -->
        <div class="stat-grid">
          <div class="stat-card">
            <div class="stat-header">
              <span class="stat-label">Total Events</span>
              <svg class="stat-sparkline" viewBox="0 0 60 24">
                <path d="M0 20 L10 15 L20 18 L30 10 L40 12 L50 5 L60 8" fill="none" stroke="var(--zerok-primary)" stroke-width="2"/>
              </svg>
            </div>
            <div class="stat-value-row">
              <span class="stat-value">1,450</span>
              <span class="stat-change positive">+7%(24h)</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-header">
              <span class="stat-label">Blocked Threats</span>
              <svg class="stat-sparkline" viewBox="0 0 60 24">
                <path d="M0 12 L10 10 L20 15 L30 8 L40 12 L50 6 L60 10" fill="none" stroke="var(--zerok-critical)" stroke-width="2"/>
              </svg>
            </div>
            <div class="stat-value-row">
              <span class="stat-value" style="color: var(--zerok-critical);">42</span>
              <span class="stat-change negative">+8 new</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-header">
              <span class="stat-label">Active Layers</span>
            </div>
            <div class="stat-value-row">
              <span class="stat-value" style="color: var(--zerok-primary);">18</span>
              <span style="font-size: 16px; color: var(--zerok-text-dim);">/20</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-header">
              <span class="stat-label">Critical (24h)</span>
              <svg class="stat-sparkline" viewBox="0 0 60 24">
                <path d="M0 18 L10 16 L20 20 L30 14 L40 16 L50 10 L60 12" fill="none" stroke="var(--zerok-high)" stroke-width="2"/>
              </svg>
            </div>
            <div class="stat-value-row">
              <span class="stat-value" style="color: var(--zerok-high);">7</span>
              <span class="stat-change negative">+3 today</span>
            </div>
          </div>
        </div>

        <!-- Widget Row 1 -->
        <div class="widget-grid">
          <!-- Layer Coverage -->
          <div class="widget">
            <div class="widget-header">
              <span class="widget-title">Defense Layers (L0-L19)</span>
              <button class="widget-action">See All</button>
            </div>
            <div class="widget-body">
              <div class="layer-grid">
                <div class="layer-cell"><span class="layer-id">L0</span><span class="layer-blocks">5</span></div>
                <div class="layer-cell"><span class="layer-id">L1</span><span class="layer-blocks">12</span></div>
                <div class="layer-cell"><span class="layer-id">L2</span><span class="layer-blocks">3</span></div>
                <div class="layer-cell"><span class="layer-id">L3</span></div>
                <div class="layer-cell"><span class="layer-id">L4</span><span class="layer-blocks">8</span></div>
                <div class="layer-cell"><span class="layer-id">L5</span></div>
                <div class="layer-cell"><span class="layer-id">L6</span><span class="layer-blocks">2</span></div>
                <div class="layer-cell"><span class="layer-id">L7</span></div>
                <div class="layer-cell"><span class="layer-id">L8</span><span class="layer-blocks">1</span></div>
                <div class="layer-cell"><span class="layer-id">L9</span><span class="layer-blocks">4</span></div>
                <div class="layer-cell disabled"><span class="layer-id">L10</span></div>
                <div class="layer-cell disabled"><span class="layer-id">L11</span></div>
                <div class="layer-cell"><span class="layer-id">L12</span></div>
                <div class="layer-cell"><span class="layer-id">L13</span><span class="layer-blocks">2</span></div>
                <div class="layer-cell"><span class="layer-id">L14</span></div>
                <div class="layer-cell"><span class="layer-id">L15</span></div>
                <div class="layer-cell"><span class="layer-id">L16</span></div>
                <div class="layer-cell"><span class="layer-id">L17</span><span class="layer-blocks">3</span></div>
                <div class="layer-cell"><span class="layer-id">L18</span></div>
                <div class="layer-cell"><span class="layer-id">L19</span><span class="layer-blocks">2</span></div>
              </div>
            </div>
          </div>

          <!-- Severity Distribution -->
          <div class="widget">
            <div class="widget-header">
              <span class="widget-title">Severity Distribution</span>
            </div>
            <div class="widget-body">
              <div class="bar-chart">
                <div class="bar-item">
                  <span class="bar-value">174</span>
                  <div class="bar" style="height: 100%; background: var(--zerok-low);"></div>
                  <span class="bar-label">Low</span>
                </div>
                <div class="bar-item">
                  <span class="bar-value">132</span>
                  <div class="bar" style="height: 76%; background: var(--zerok-medium);"></div>
                  <span class="bar-label">Medium</span>
                </div>
                <div class="bar-item">
                  <span class="bar-value">78</span>
                  <div class="bar" style="height: 45%; background: var(--zerok-high);"></div>
                  <span class="bar-label">High</span>
                </div>
                <div class="bar-item">
                  <span class="bar-value">66</span>
                  <div class="bar" style="height: 38%; background: var(--zerok-info);"></div>
                  <span class="bar-label">Info</span>
                </div>
                <div class="bar-item">
                  <span class="bar-value">35</span>
                  <div class="bar" style="height: 20%; background: var(--zerok-critical);"></div>
                  <span class="bar-label">Critical</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Coverage Score -->
          <div class="widget">
            <div class="widget-header">
              <span class="widget-title">Security Coverage</span>
            </div>
            <div class="widget-body" style="display: flex; align-items: center; justify-content: center; min-height: 120px;">
              <div style="position: relative; width: 100px; height: 100px;">
                <svg viewBox="0 0 100 100" style="transform: rotate(-90deg);">
                  <circle cx="50" cy="50" r="40" fill="none" stroke="var(--zerok-border)" stroke-width="8"/>
                  <circle cx="50" cy="50" r="40" fill="none" stroke="var(--zerok-primary)" stroke-width="8"
                    stroke-dasharray="226" stroke-dashoffset="45" stroke-linecap="round"/>
                </svg>
                <div style="position: absolute; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                  <span style="font-size: 24px; font-weight: 700;">90%</span>
                  <span style="font-size: 10px; color: var(--zerok-text-dim);">Coverage</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Widget Row 2 -->
        <div class="two-columns">
          <!-- Recent Events -->
          <div class="widget">
            <div class="widget-header">
              <span class="widget-title">Recent Events</span>
              <button class="widget-action">See All</button>
            </div>
            <div class="widget-body">
              <div class="event-row">
                <span class="event-icon">üõë</span>
                <span class="severity-badge critical">CRIT</span>
                <span class="event-layer">L0</span>
                <span class="event-desc">Hardcoded API key detected</span>
                <span class="event-time">18:42</span>
              </div>
              <div class="event-row">
                <span class="event-icon">‚ö†Ô∏è</span>
                <span class="severity-badge high">HIGH</span>
                <span class="event-layer">L4</span>
                <span class="event-desc">Prompt injection blocked</span>
                <span class="event-time">18:41</span>
              </div>
              <div class="event-row">
                <span class="event-icon">‚ö†Ô∏è</span>
                <span class="severity-badge medium">MED</span>
                <span class="event-layer">L1</span>
                <span class="event-desc">Governor: .env access attempt</span>
                <span class="event-time">18:40</span>
              </div>
              <div class="event-row">
                <span class="event-icon">üìù</span>
                <span class="severity-badge low">LOW</span>
                <span class="event-layer">L17</span>
                <span class="event-desc">Spend alert: $2.50</span>
                <span class="event-time">18:38</span>
              </div>
              <div class="event-row">
                <span class="event-icon">üõë</span>
                <span class="severity-badge critical">CRIT</span>
                <span class="event-layer">L9</span>
                <span class="event-desc">Data exfil attempt blocked</span>
                <span class="event-time">18:35</span>
              </div>
            </div>
          </div>

          <!-- Top Patterns -->
          <div class="widget">
            <div class="widget-header">
              <span class="widget-title">Top Triggered Patterns</span>
              <span style="font-size: 11px; color: var(--zerok-text-dim);">Today</span>
            </div>
            <div class="widget-body">
              <div class="event-row">
                <span class="event-layer">L4</span>
                <span class="event-desc">INJECTION-001: Instruction override</span>
                <span style="color: var(--zerok-critical); font-weight: 600; font-size: 13px;">24</span>
              </div>
              <div class="event-row">
                <span class="event-layer">L0</span>
                <span class="event-desc">SECRET-002: API key pattern</span>
                <span style="color: var(--zerok-critical); font-weight: 600; font-size: 13px;">18</span>
              </div>
              <div class="event-row">
                <span class="event-layer">L1</span>
                <span class="event-desc">GOV-003: Env file access</span>
                <span style="color: var(--zerok-high); font-weight: 600; font-size: 13px;">12</span>
              </div>
              <div class="event-row">
                <span class="event-layer">L9</span>
                <span class="event-desc">EGRESS-001: Large payload</span>
                <span style="color: var(--zerok-high); font-weight: 600; font-size: 13px;">8</span>
              </div>
              <div class="event-row">
                <span class="event-layer">L2</span>
                <span class="event-desc">LINT-004: Unsafe eval()</span>
                <span style="color: var(--zerok-medium); font-weight: 600; font-size: 13px;">5</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Advanced Charts Row -->
        <div class="widget-grid">
          <!-- Area Chart with Gradient -->
          <div class="widget">
            <div class="widget-header">
              <span class="widget-title">Trends Over Time</span>
              <span style="font-size: 11px; color: var(--zerok-text-dim);">Last 7 days</span>
            </div>
            <div class="widget-body">
              <canvas id="areaChart" height="140"></canvas>
            </div>
          </div>

          <!-- Radar/Spider Chart -->
          <div class="widget">
            <div class="widget-header">
              <span class="widget-title">Attack Vector Distribution</span>
            </div>
            <div class="widget-body" style="display: flex; justify-content: center;">
              <canvas id="radarChart" height="160" width="200"></canvas>
            </div>
          </div>

          <!-- Donut Chart -->
          <div class="widget">
            <div class="widget-header">
              <span class="widget-title">Status Distribution</span>
            </div>
            <div class="widget-body" style="display: flex; justify-content: center; align-items: center;">
              <div style="position: relative; width: 140px; height: 140px;">
                <canvas id="donutChart"></canvas>
                <div style="position: absolute; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; pointer-events: none;">
                  <span style="font-size: 20px; font-weight: 700;">156</span>
                  <span style="font-size: 10px; color: var(--zerok-text-dim);">Total</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>

  <script>
    function toggleSidebar() {
      document.getElementById('sidebar').classList.toggle('collapsed');
    }

    function toggleSection(section) {
      document.getElementById(section + 'Items').classList.toggle('collapsed');
      document.getElementById(section + 'CollapseBtn').classList.toggle('collapsed');
    }

    function toggleSettings() {
      document.getElementById('settingsPanel').classList.toggle('expanded');
      document.getElementById('settingsChevron').classList.toggle('expanded');
    }

    // Theme Switcher (layout)
    function setTheme(theme) {
      document.documentElement.setAttribute('data-theme', theme);
      document.querySelectorAll('.theme-option').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-theme') === theme) {
          btn.classList.add('active');
        }
      });
      localStorage.setItem('zerok-theme', theme);
    }

    // Accent Color Switcher
    function setAccent(color) {
      document.documentElement.setAttribute('data-accent', color);
      document.querySelectorAll('.color-option').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-color') === color) {
          btn.classList.add('active');
        }
      });
      localStorage.setItem('zerok-accent', color);
    }

    // Load saved preferences on page load
    (function() {
      const savedTheme = localStorage.getItem('zerok-theme') || 'default';
      const savedAccent = localStorage.getItem('zerok-accent') || 'orange';
      setTheme(savedTheme);
      setAccent(savedAccent);
    })();

    // ========== CHART.JS INITIALIZATION ==========

    // Get computed primary color from CSS variable
    function getPrimaryColor() {
      return getComputedStyle(document.documentElement).getPropertyValue('--zerok-primary').trim();
    }

    // Chart instances (for cleanup on theme change)
    let areaChart, radarChart, donutChart;

    function initCharts() {
      const primaryColor = getPrimaryColor();
      const primaryColorAlpha = primaryColor + '40'; // 25% opacity for fill

      // Destroy existing charts if they exist
      if (areaChart) areaChart.destroy();
      if (radarChart) radarChart.destroy();
      if (donutChart) donutChart.destroy();

      // Common chart defaults
      Chart.defaults.color = '#a0a0a0';
      Chart.defaults.borderColor = '#3a3a3a';
      Chart.defaults.font.family = "'Inter', sans-serif";

      // ===== Area Chart with Gradient Fill =====
      const areaCtx = document.getElementById('areaChart').getContext('2d');
      const areaGradient = areaCtx.createLinearGradient(0, 0, 0, 140);
      areaGradient.addColorStop(0, primaryColor + '60');
      areaGradient.addColorStop(1, primaryColor + '05');

      areaChart = new Chart(areaCtx, {
        type: 'line',
        data: {
          labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
          datasets: [{
            label: 'Events',
            data: [120, 190, 150, 220, 180, 250, 210],
            borderColor: primaryColor,
            backgroundColor: areaGradient,
            fill: true,
            tension: 0.4,
            borderWidth: 2,
            pointRadius: 3,
            pointBackgroundColor: primaryColor,
            pointBorderColor: '#2a2a2a',
            pointBorderWidth: 2,
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { display: false }
          },
          scales: {
            x: {
              grid: { display: false },
              ticks: { font: { size: 10 } }
            },
            y: {
              grid: { color: '#3a3a3a' },
              ticks: { font: { size: 10 } }
            }
          }
        }
      });

      // ===== Radar/Spider Chart =====
      const radarCtx = document.getElementById('radarChart').getContext('2d');
      radarChart = new Chart(radarCtx, {
        type: 'radar',
        data: {
          labels: ['Injection', 'Data Leak', 'Manipulation', 'Poisoning', 'Exfiltration', 'Evasion'],
          datasets: [{
            label: 'Threats',
            data: [85, 60, 75, 45, 70, 55],
            borderColor: primaryColor,
            backgroundColor: primaryColor + '30',
            borderWidth: 2,
            pointBackgroundColor: primaryColor,
            pointBorderColor: '#2a2a2a',
            pointBorderWidth: 2,
            pointRadius: 4,
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { display: false }
          },
          scales: {
            r: {
              angleLines: { color: '#3a3a3a' },
              grid: { color: '#3a3a3a' },
              pointLabels: { font: { size: 9 }, color: '#a0a0a0' },
              ticks: { display: false },
              suggestedMin: 0,
              suggestedMax: 100
            }
          }
        }
      });

      // ===== Donut Chart =====
      const donutCtx = document.getElementById('donutChart').getContext('2d');
      donutChart = new Chart(donutCtx, {
        type: 'doughnut',
        data: {
          labels: ['Blocked', 'Warned', 'Logged', 'Pending'],
          datasets: [{
            data: [65, 42, 35, 14],
            backgroundColor: [
              primaryColor,
              primaryColor + 'A0',
              primaryColor + '60',
              '#3a3a3a'
            ],
            borderWidth: 0,
            spacing: 2
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: true,
          cutout: '70%',
          plugins: {
            legend: { display: false }
          }
        }
      });
    }

    // Initialize charts after DOM ready
    document.addEventListener('DOMContentLoaded', initCharts);

    // Re-initialize charts when accent changes (override setAccent)
    const originalSetAccent = setAccent;
    setAccent = function(color) {
      originalSetAccent(color);
      // Small delay to let CSS update
      setTimeout(initCharts, 50);
    };
  </script>
</body>
</html>
